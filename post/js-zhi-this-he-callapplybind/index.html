<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
<title>JS 之 this和call、apply、bind - ToolMan</title>
<meta name="description" content="温故而知新">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link type='text/css' rel='stylesheet' href='http://toolman.live/styles/main.css' media='screen' />
<link type="text/css" rel="stylesheet" href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css">
<link type="text/css" rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">

<script type="text/javascript" src='http://toolman.live/media/scripts/jquery.js'></script>
<script type="text/javascript" src="https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>

<script>
    hljs.initHighlightingOnLoad();
</script>
</head>

<body>
  <div class="layout theme-dark">
    <div class="layout-header">

	<div class="layout-header-main">
		<div class="container">
			<div class="row justify-content-lg-center">
				<div class="col-12 col-lg-9">

					<div class="navbar">

						<div class="logo">
							<a href="http://toolman.live">
								<img class="logo"
									src="http://toolman.live/media/images/site_avatar.png?v=1588407193487"
									alt="">
							</a>
						</div>

						<div class="menu d-md-inline-block d-none">
							<ul class="layout-navigation-list">
								
								<li class="layout-navigation-item"><a title="首页"
										href="/">首页</a>
								</li>
								
								<li class="layout-navigation-item"><a title="归档"
										href="/archives">归档</a>
								</li>
								
								<li class="layout-navigation-item"><a title="标签"
										href="/tags">标签</a>
								</li>
								
								<li class="layout-navigation-item"><a title="关于"
										href="/post/about">关于</a>
								</li>
								
							</ul>
						</div>

						<div class="item d-md-inline-block d-none">
							<div class="search-icon">
								<i class="fa fa-search" aria-hidden="true"></i>
							</div>
						</div>



						<div class="d-md-inline-block d-none">
							<div class="search-lightbox">
								<div class="search-body">

									<form id="gridea-search-form" data-update="1588407193487" action="/search/" class="search-form">
										<input type="text" name="q" id="s" value="" class="search-field" placeholder="请输入搜索关键词" aria-label="请输入搜索关键词" required="">
										<button type="submit" class="submit" aria-label="Submit">
											<i class="fa fa-search" aria-hidden="true"></i>
										</button>
									</form>

								</div>
							</div>
						</div>

						<div class="nav d-md-none d-inline-block">
							<div class="trigger">
								<i class="fa fa-bars layout-btn-toggle" aria-hidden="true"></i>
							</div>
						</div>

					</div>

				</div>
			</div>




		</div>
	</div>

</div>
    <div class="layout-collapse d-md-none">
	<div class="layout-collapse-main">
		<ul class="layout-collapse-list">
			
			<li class="layout-collapse-item"><a title="首页" href="/">首页</a></li>
			
			<li class="layout-collapse-item"><a title="归档" href="/archives">归档</a></li>
			
			<li class="layout-collapse-item"><a title="标签" href="/tags">标签</a></li>
			
			<li class="layout-collapse-item"><a title="关于" href="/post/about">关于</a></li>
			

		</ul>
	</div>
</div>

    <div class="layout-content">
      <div class="layout-content-main">
        <div class="container">
          <div class="row justify-content-lg-center">
            <div class="col-12 col-lg-9">
              <div class="layout-post">
                <div class="layout-post-body">
                  <div class="row">

                    <div class="col-12 col-lg-10">
                      <div class="layout-post-main m-right m-md-right">
                        <div class="layout-post-header">
                          <h1 class="layout-post-title">JS 之 this和call、apply、bind</h1>
                          <div class="layout-post-meta">
                            <div class="item">
                               <a href="http://toolman.live/tag/u1jSvmmAc/" class="post--keyword"
                                data-title="JavaScript" data-type="post_tag" data-term-id="39">JavaScript</a>
                              
                            </div>
                            <div class="item">
                              <span>2020-04-30</span>
                            </div>
                          </div>
                        </div>
                        <div class="layout-post-content">
                          <div class="layout-post-item">
                            
                            <p>this<br>
是js代码执行时的环境对象，一般在函数中使用，在函数执行时，根据函数的调用方式不同而不同，在运行时不能通过赋值的方式修改；、</p>
<ol>
<li>this的常见情况</li>
<li>事件中的this是绑定当前事件的元素；</li>
<li>自执行函数中的this指向全局（浏览器端window）；</li>
<li>定时器回调函数中的this指向全局（浏览器端window）；</li>
<li>全局作用域的this指向全局（浏览器端window）</li>
<li>方法调用时看方法执行前有没有点，如果有，点前面是谁this就是谁，没有就是全局（浏览器端window）</li>
<li>箭头函数中的this是箭头函数声明时所在作用域中的this</li>
<li>构造函数中的this指向当前实例<br>
• Function.prototype 上的三个方法call、apply、bind 供Function的实例用来修改函数中的this指向<br>
console.log(Function.prototype);</li>
<li>call Function.prototype.call<br>
function fe(a, b) {<br>
console.log(a, b);<br>
console.log(this);<br>
}<br>
fe(1, 2); // this -&gt; window<br>
• 使用call方法修改this<br>
• 语法：函数名.call(ctx, 实参1, 实参2.....)<br>
• 参数：ctx 将函数中的this修改为ctx; 从第二个参数开始，后面的参数都是传递给函数执行的实参<br>
• 作用: 修改方法中的关键字为call方法的第一个实参ctx,并且把后面的参数当做实参传给函数，最后让函数执行；<br>
var obj = {<br>
id: '0511120117'<br>
};<br>
fe.call(obj, 2, 5);<br>
• 特殊情况：<br>
fe.call(null, 1, 2);<br>
fe.call(undefined, 1, 2);<br>
fe.call();<br>
// call的第一个参数传递 null、undefined、或者不传时函数的this是window</li>
<li>apply 修改函数中的this关键字<br>
• 语法：函数名.apply(ctx, [实参1， 实参2....])<br>
• 参数：ctx 将函数中的this修改为ctx；第二个参数是一个数组，数组项都是传递给函数的实参；<br>
• 作用：修改函数中的this关键字，并且把接收一个由实参组成的数组，最后把这个数组项作为实参传给函数，并且让函数执行<br>
fe.apply(obj, [12, 13]); // 虽然这里传递了一个数组给函数，但是函数接收到的仍然是一个一个的实参<br>
• call 和apply的区别：二者都是用来修改函数中的this关键字的；但是二者最后给函数传递实参的方式不同，call是一个一个的传递，apply是把实参放到一个数组中打包传递给函数。<br>
bind 修改函数中的this关键字（绑定this关键字）：<br>
Function.prototype.bind<br>
• 语法：函数.bind(ctx, 实参1, 实参2....)<br>
• 作用：绑定函数中的this关键字，并且返回一个绑定了this的新函数；注意：bind不会让函数执行<br>
function f(a, b, c) {<br>
console.log(a, b, c);<br>
console.log('ff', this);<br>
return a + b + c;<br>
}<br>
let obj2 = {<br>
college: 'x'<br>
};<br>
let f2 = f.bind(obj2);<br>
console.log(f2 === f); // false<br>
f2(1, 2, 3);<br>
f2(1, 3, 5);<br>
console.log(f2);<br>
bind还有一个作用：绑定函数的参数<br>
let f3 = f.bind(obj2, 10, 20);<br>
f3(13); // 10 20 13<br>
f3(14); // 10 20 14<br>
let f4 = f.bind(obj2, 12); // x = 12<br>
let f5= f4.bind(obj2, 13); // x = 12 y = 13<br>
let f6 = f5.bind(obj2, 14); // x = 12 y = 13 z = 14<br>
f6(); // 12 13 14<br>
bind方法实现函数柯里化<br>
function sum(a, b, c) {<br>
return a + b + c;<br>
}<br>
function curingSum(a) {<br>
return function (b) {<br>
return function (c) {<br>
return a + b + c;<br>
}<br>
}<br>
}<br>
curingSum(1)(2)(3);<br>
let c1 = sum.bind(null, 1);<br>
let c2 = c1.bind(null, 2);<br>
let c3 = c2.bind(null, 3);<br>
let r = c3();<br>
console.log(r); //6</li>
</ol>

                          </div>
                        </div>
                        <div class="layout-post-social">
                          <div class="item reader">
                            <div id="/post/js-zhi-this-he-callapplybind/" class="leancloud-visitors view"
                              data-flag-title="JS 之 this和call、apply、bind">
                              <span class="post-meta-item-text">阅读 </span>
                              <span class="leancloud-visitors-count"></span>
                            </div>
                          </div>
                        </div>

                        <div class="layout-post-navigation">
                          <div class="navigation-list">
                            
                            <div class="post-card row">
                              
                              <div class="card-content col-12">
                                <div class="card-body">
                                  <div class="header">
                                    <a href="http://toolman.live/post/qian-kao-bei-he-shen-kao-bei/" class="title">
                                      <h4>浅拷贝和深拷贝</h4>
                                    </a>
                                  </div>
                                  <div class="inner">
                                    <div class="abstract">
                                      
                                    </div>
                                  </div>
                                </div>
                                <div class="card-footer">
                                  <div class="item"><span>上一篇</span></div>
                                  <div class="item">2020-04-30</div>
                                </div>
                              </div>
                              
                            </div>

                            <div class="post-card row">
                              
                              <div class="card-content col-8 col-md-9">
                                <div class="card-body">
                                  <div class="header">
                                    <a href="http://toolman.live/post/hello-gridea/" class="title">
                                      <h4>Hello Gridea</h4>
                                    </a>
                                  </div>
                                  <div class="inner d-none d-sm-block">
                                    <div class="abstract">
                                      <p>👏  欢迎使用 <strong>Gridea</strong> ！<br>
✍️  <strong>Gridea</strong> 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ...</p>

                                    </div>
                                  </div>
                                </div>
                                <div class="card-footer">
                                  <div class="item"><span>下一篇</span></div>
                                  <div class="item">2018-12-12</div>
                                </div>
                              </div>
                              <div class="card-thumb col-4 col-md-3">
                                <div class="thumb">
                                  <a href="http://toolman.live/post/hello-gridea/"
                                    style="background-image: url('http://toolman.live/post-images/hello-gridea.png');"></a>
                                </div>
                              </div>
                              
                            </div>

                            
                          </div>
                        </div>

                        <div class="layout-comments"></div>
                        
                      </div>
                    </div>

                    <div class="col-12 col-lg-2 d-none d-lg-block">
                      <div class="layout-post-sidebar">
                        <div class="layout-sidebar-item">
                          
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="layout-totop d-none"><i class="fa fa-angle-up" aria-hidden="true"></i></div>

    	<div class="layout-footer">

		<div class="container">
			<div class="row justify-content-lg-center">
				<div class="col-12 col-lg-9">
					<div class="footer">
						<div class="row">
							<div class="col-12 col-md-9">
								<div class="footer-copy">
									
									Powered by <a href="http://beian.miit.gov.cn" target="_blank">粤ICP备19151846号</a>
									<div class="footer-icp d-none d-sm-inline-block">
										<span class="px-2">⋅</span>
										
									</div>
								</div>
							</div>
							<div class="col-sm-3 d-none d-md-block">
								<div class="footer-links">
									
									
									
									
									
									
									
									
									
									
									
									
									
									
									
									
									
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>

	<script type="text/javascript" src='http://toolman.live/media/scripts/main.js'></script>
	

  </div>
</body>

</html>